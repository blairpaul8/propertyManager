 `<div class="item">
       <details class="itemDetails">
         <summary id="itemHeader${rand_item}" class="itemHeader"><span class="name">${item.mpo_description ? item.mpo_description : 'No MPO'}</span>
           <svg class="icons" data-slot="icon" aria-hidden="true" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
             <path d="m19.5 8.25-7.5 7.5-7.5-7.5" stroke-linecap="round" stroke-linejoin="round"></path>
           </svg>
         </summary>
       </details>
    

       
      root.insertAdjacentHTML('beforeend', html)

      item.nsn_items.forEach(nsn_item => {
        // Header for this NSN item
        const rand_header = Math.floor(Math.random() * 100000)
        const header = `<div id=header${rand_header}>${nsn_item.nsn} ${nsn_item.nsn_description} ${nsn_item.quantity}</div>`
        document
          .getElementById(`itemHeader${rand_item}`)
          .insertAdjacentHTML('afterend', header)

        // Insert the serial numbers for this NSN item
        nsn_item.serial_numbers.forEach(serial_number => {
          const rand_serial = Math.floor(Math.random() * 100000)
          const serial_number_element = `<div class="serialNumber">
                                     <div class="serial">${serial_number.serial_number}</div>
                                     <select id="serial${rand_serial}" name="">
                                         <option value="">--</option>
                                     </select>
                                 </div>`

          const header_element = document.getElementById(
            `header${rand_header}`,
          )
          header_element.insertAdjacentHTML('afterend', serial_number_element)

          const select_box = document.getElementById(`serial${rand_serial}`)
          select_box.addEventListener('change', event => {
            serial_number.assignment = document.getElementById(
              `serial${rand_serial}`,
            ).value
          })

          roles.forEach(person => {
            const option_html = `<option ${
              serial_number.assignment === person.role && person.role !== null
                ? 'selected'
                : ''
            } value="${person.role}">${person.name}    ${
              person.role !== null ? '(' + person.role + ')' : ''
            }</option>`
            document
              .getElementById(`serial${rand_serial}`)
              .insertAdjacentHTML('beforeend', option_html)
          })
        })
      })
    })
  }



function render_boxes(role_list = null) {
    document.getElementById('boxesList').innerHTML = '';
    boxes = build_boxes(role_list)

    boxes.forEach((value, key, map) => {
      const individualBox = document.createElement('details')
      individualBox.classList.add('individualBox')

      const header = document.createElement('summary')
      header.classList.add('boxHeader')
      header.insertAdjacentHTML(
        'beforeend',
        `<h3>${key.name} (${key.role})</h3>`,
      )

      const rightGrouping = document.createElement('div')
      rightGrouping.classList.add('rightGrouping')
      rightGrouping.insertAdjacentHTML(
        'beforeend',
        `<svg class="icons" data-slot="icon" aria-hidden="true" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                      <path d="m19.5 8.25-7.5 7.5-7.5-7.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                          </svg>`,
      )
      header.appendChild(rightGrouping)

      individualBox.appendChild(header)

      value.forEach(assignment => {
        const lineItem = document.createElement('div')
        lineItem.style.display = 'flex'
        lineItem.style.justifyContent = 'space-between'

        lineItem.insertAdjacentHTML(
          'beforeend',
          `<span>${
            assignment.mpo_description ? assignment.mpo_description : ''
          }</span>`,
        )
        lineItem.insertAdjacentHTML(
          'beforeend',
          `<span>${assignment.nsn_description}</span>`,
        )
        lineItem.insertAdjacentHTML(
          'beforeend',
          `<span>${assignment.serial_number}</span>`,
        )

        individualBox.appendChild(lineItem)
      })

      document.getElementById('boxesList').appendChild(individualBox)
    })
  }